(()=>{"use strict";var t=window.jQuery;window.addEventListener("DOMContentLoaded",(function(){var e=new URL(buz_wc_settings.url);e.searchParams.append("token",buz_wc_settings.token);var n=new BuzPickupPointLoader({url:e,onSelect:function(e){var n=e.identifier,o=e.name,i=e.distributor,r=e.address;t.ajax({method:"POST",url:buz_wc_settings.ajax_url,data:{action:"boekuwzending_save_pick_up_point",security:buz_wc_settings.ajax_nonce,pick_up_point:{identifier:n,name:o,distributor:i,address:r}}}).done((function(){t("body").trigger("update_checkout")}))}});t("body").on("updated_checkout",(function(t,e){document.querySelectorAll("input.shipping_method");if("success"===e.result){var o=document.querySelector('a[data-action="buz_choose_pick_up_point"]');o&&o.addEventListener("click",(function(t){t.preventDefault();var e=t.target.dataset,o=e.postcode,i=e.country,r=e.distributor;if(!o||!i)throw Error('Cannot load Pick up Points, missing "postcode" and/or "country"');n.show({postcode:o,country:i,filter:{distributor:[r]}})}))}}))}))})();